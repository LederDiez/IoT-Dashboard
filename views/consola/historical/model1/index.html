<div id="historical">
	<!-- Content Header (Page header) -->
	<div class="content-header">
		<div class="container-fluid">
			<div class="row mb-2">
				<div class="col-sm-6">
				<h1>Estadisticas</h1>
				</div>
				<div class="col-sm-6">
					<ol class="breadcrumb float-sm-right">
						<li class="breadcrumb-item active">
							<div class="input-group">
								<input type="text" id="datepicker" disabled value="dd-mm-aaaa" class="form-control rounded-0" style="width: 120px;">
								<span class="input-group-append">
									<button type="button" id="BtnDatepicker" class="btn btn-block btn-warning btn-flat float-right" id="daterange-btn">
										<i class="far fa-calendar-alt"></i> Seleccionar fecha
									</button>
								</span>
							</div>
						</li>
					</ol>
				</div>
			</div>
		</div><!-- /.container-fluid -->
	</div>
	<section id="historical_contend" class="content">
		<div class="container-fluid">
		  <div class="row">
		  <div class="col-12">

				<div class="card card-outline card-dark">
				<div class="card-header">
				<h5 class="card-title">Monthly Recap Report</h5>

				</div>
				<!-- /.card-header -->
				<div class="card-body p-0">

				<div class="chart ">
				<!-- Sales Chart Canvas -->
				  <div id="container-lol"></div>
				</div>
				<!-- /.chart-responsive -->

				</div>
				</div>

				</div>
		  </div>
		  <div class="row">
		  <div class="col-12">

				<div class="card card-outline card-dark">
				<div class="card-header">
				<h5 class="card-title">Monthly Recap Report</h5>

				</div>
				<!-- /.card-header -->
				<div class="card-body p-0">

				<div class="chart ">
				<!-- Sales Chart Canvas -->
				  <div id="container-bars"></div>
				</div>
				<!-- /.chart-responsive -->

				</div>
				</div>

				</div>
		  </div>
	  </div><!-- /.container-fluid -->
	</section>
	<link rel="stylesheet" href="../plugins/MCDatePicker/css/mc-calendar.min.css" />
	<script src="../plugins/MCDatePicker/js/mc-calendar.min.js"></script>
	<script>

		let BtnDatepicker = document.getElementById("BtnDatepicker");

		let datepicker = MCDatepicker.create({
			el: '#datepicker',
			customWeekDays: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
			customMonths: [
				'Enero',
				'Febrero',
				'Marzo',
				'Abril',
				'Mayo',
				'Junio',
				'Julio',
				'Agosto',
				'Septiembre',
				'Octubre',
				'Noviembre',
				'Diciembre'
			],
			context: document.body,
			//autoClose: true,
			closeOndblclick: true,
			closeOnBlur: false,
			customOkBTN: 'Aceptar',
			customClearBTN: 'Cancelar',
			customCancelBTN: '',
			firstWeekday: 1,
			showCalendarDisplay: false,
			selectedDate: new Date(), // today
			minDate: new Date(2021, 9, 10),
			maxDate: new Date(),
			jumpToMinMax: true,
			jumpOverDisabled: true,
			theme: {
				theme_color: '#8f96a3',
				active_text_color: '#28a745',
				display: {
					foreground: 'rgba(255, 255, 255, 0.8)',
					background: '#5e636e'
				},
				picker: {
					background: '#343a40'
				},
				picker_header: {
					active: 'rgba(255, 255, 255, 0.8)',
					inactive: 'rgba(255, 255, 255, 0.1)'
				},
				weekday: {
					foreground: 'rgba(255, 255, 255, 0.8)'
				},
				button: {
					success: {
							foreground: '#ffc107'
					},
					danger: {
							foreground: '#e65151'
					}
				},
				date: {
					active: {
						default: {
							foreground: 'rgba(255, 255, 255, 0.8)'
						},
						picked: {
							foreground: '#ffffff',
							background: '#8f96a3'
						},
						today: {
							foreground: 'rgba(255, 255, 255, 0.8)',
							background: '#2f3237'
						}
					},
					inactive: {
						default: {
							foreground: 'rgba(255, 255, 255, 0.1)'
						}
					},
					marcked: {
						foreground: '#38ada9'
					}
				},
				month_year_preview: {
					active: {
						default: {
							foreground: 'rgba(255, 255, 255, 0.8)'
						},
						picked: {
							foreground: '#ffffff',
							background: '#8f96a3'
						}
					},
					inactive: {
						default: {
							foreground: 'rgba(255, 255, 255, 0.1)'
						}
					}
				}
			},
			//disableDates: [], // ex: [new Date(2019,11, 25), new Date(2019, 11, 26)]
		});
		datepicker.open();
		datepicker.onClear(() => {
			datepicker.close();
		});

		BtnDatepicker.onclick = function () {
			datepicker.open();
		}

		datepicker.onSelect((date, formatedDate) => {
			let unix = date.getTime() / 1000;
			dibujar(unix);
		});

		function dibujar(unix) {

			$('#container-lol').empty();
			$('#container-bars').empty();

			Highcharts.chart('container-bars', {
				chart: {
					type: 'column'
				},
				title: {
					text: 'Column chart with negative values'
				},
				xAxis: {
					categories: ['Apples', 'Oranges', 'Pears', 'Grapes', 'Bananas']
				},
				credits: {
					enabled: true
				},
				series: [{
					name: 'John',
					data: [5, 3, 4, 7, 2]
				}, {
					name: 'Jane',
					data: [2, -2, -3, 2, 1]
				}, {
					name: 'Joe',
					data: [3, 4, 4, -2, 5]
				}]
			});

			Highcharts.chart('container-lol', {
				chart: {
					type: 'column'
				},
				title: {
					text: 'Browser market shares. January, 2018'
				},
				subtitle: {
					text: 'Click the columns to view versions. Source: <a href="http://statcounter.com" target="_blank">statcounter.com</a>'
				},
				accessibility: {
					announceNewData: {
						enabled: false
					}
				},
				xAxis: {
					type: 'category'
				},
				yAxis: {
					title: {
						text: 'Total percent market share'
					}

				},
				legend: {
					enabled: false
				},
				plotOptions: {
					series: {
						borderWidth: 0,
						dataLabels: {
							enabled: true,
							format: '{point.y:.1f}%'
						}
					}
				},

				tooltip: {
					headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
					pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'
				},

				series: [
					{
						name: "Browsers",
						colorByPoint: true,
						data: [
							{
								name: "Chrome",
								y: 62.74,
								drilldown: "Chrome"
							},
							{
								name: "Firefox",
								y: 10.57,
								drilldown: "Firefox"
							},
							{
								name: "Internet Explorer",
								y: 7.23,
								drilldown: "Internet Explorer"
							},
							{
								name: "Safari",
								y: 5.58,
								drilldown: "Safari"
							},
							{
								name: "Edge",
								y: 4.02,
								drilldown: "Edge"
							},
							{
								name: "Opera",
								y: 1.92,
								drilldown: "Opera"
							},
							{
								name: "Other",
								y: 7.62,
								drilldown: null
							}
						]
					}
				],
				drilldown: {
					series: [
						{
							name: "Chrome",
							id: "Chrome",
							data: [
								[
									"v65.0",
									0.1
								],
								[
									"v64.0",
									1.3
								],
								[
									"v63.0",
									53.02
								],
								[
									"v62.0",
									1.4
								],
								[
									"v61.0",
									0.88
								],
								[
									"v60.0",
									0.56
								],
								[
									"v59.0",
									0.45
								],
								[
									"v58.0",
									0.49
								],
								[
									"v57.0",
									0.32
								],
								[
									"v56.0",
									0.29
								],
								[
									"v55.0",
									0.79
								],
								[
									"v54.0",
									0.18
								],
								[
									"v51.0",
									0.13
								],
								[
									"v49.0",
									2.16
								],
								[
									"v48.0",
									0.13
								],
								[
									"v47.0",
									0.11
								],
								[
									"v43.0",
									0.17
								],
								[
									"v29.0",
									0.26
								]
							]
						},
						{
							name: "Firefox",
							id: "Firefox",
							data: [
								[
									"v58.0",
									1.02
								],
								[
									"v57.0",
									7.36
								],
								[
									"v56.0",
									0.35
								],
								[
									"v55.0",
									0.11
								],
								[
									"v54.0",
									0.1
								],
								[
									"v52.0",
									0.95
								],
								[
									"v51.0",
									0.15
								],
								[
									"v50.0",
									0.1
								],
								[
									"v48.0",
									0.31
								],
								[
									"v47.0",
									0.12
								]
							]
						},
						{
							name: "Internet Explorer",
							id: "Internet Explorer",
							data: [
								[
									"v11.0",
									6.2
								],
								[
									"v10.0",
									0.29
								],
								[
									"v9.0",
									0.27
								],
								[
									"v8.0",
									0.47
								]
							]
						},
						{
							name: "Safari",
							id: "Safari",
							data: [
								[
									"v11.0",
									3.39
								],
								[
									"v10.1",
									0.96
								],
								[
									"v10.0",
									0.36
								],
								[
									"v9.1",
									0.54
								],
								[
									"v9.0",
									0.13
								],
								[
									"v5.1",
									0.2
								]
							]
						},
						{
							name: "Edge",
							id: "Edge",
							data: [
								[
									"v16",
									2.6
								],
								[
									"v15",
									0.92
								],
								[
									"v14",
									0.4
								],
								[
									"v13",
									0.1
								]
							]
						},
						{
							name: "Opera",
							id: "Opera",
							data: [
								[
									"v50.0",
									0.96
								],
								[
									"v49.0",
									0.82
								],
								[
									"v12.1",
									0.14
								]
							]
						}
					]
				}
			});

		}
	</script>
</div>